#include <stdio.h>
#include <limits.h>

// ฟังก์ชัน: showArray
// หน้าที่: แสดงผลข้อมูลในอาร์เรย์ในรูปแบบที่สวยงาม 
//          ข้อมูลถูกล้อมด้วยวงเล็บเหลี่ยม [ ] และคั่นด้วยเครื่องหมายลูกน้ำ
void showArray(int arr[], int n) {
    // พารามิเตอร์: 
    // 1. int arr[] - อาร์เรย์ของตัวเลขจำนวนเต็ม
    //    ใช้เก็บข้อมูลที่ต้องการแสดงผล เช่น {1, 2, 3, 4}
    // 2. int n - จำนวนสมาชิกในอาร์เรย์ (ขนาดของอาร์เรย์)
    //    ใช้ควบคุมจำนวนครั้งในการวนลูป และตรวจสอบตำแหน่งตัวสุดท้าย

    // พิมพ์เครื่องหมายเปิดวงเล็บเหลี่ยม [
    printf("[");

    // วนลูปเพื่อเข้าถึงสมาชิกแต่ละตัวในอาร์เรย์
    for (int i = 0; i < n; i++) {
        // ตรวจสอบว่าสมาชิกตัวปัจจุบันเป็นตัวสุดท้ายในอาร์เรย์หรือไม่
        if (i == n - 1) {
            // ถ้าเป็นตัวสุดท้าย ให้พิมพ์ค่าของสมาชิกโดยไม่ต้องใส่ลูกน้ำต่อท้าย
            printf("%d", arr[i]);
        } else {
            // ถ้าไม่ใช่ตัวสุดท้าย ให้พิมพ์ค่าของสมาชิกพร้อมลูกน้ำและช่องว่าง ", "
            printf("%d, ", arr[i]);
        }
    }

    // พิมพ์เครื่องหมายปิดวงเล็บเหลี่ยม ] และขึ้นบรรทัดใหม่
    printf("]\n");
}

// ฟังก์ชัน: append
// หน้าที่: เพิ่มข้อมูลใหม่ลงในอาร์เรย์ที่มีการควบคุมขนาด โดยไม่เกินความจุสูงสุด
// รับพารามิเตอร์ 4 ตัว:
// - int arr[]: อาร์เรย์เป้าหมายที่ต้องการเพิ่มข้อมูล
// - int length: ความจุสูงสุดของอาร์เรย์ (จำนวนสมาชิกที่สามารถเก็บได้ทั้งหมด)
// - int *n: ตัวชี้ไปยังตัวแปรที่เก็บจำนวนสมาชิกปัจจุบันในอาร์เรย์
// - int data: ข้อมูลที่ต้องการเพิ่มลงในอาร์เรย์
// คืนค่า:
// - 0: หากเพิ่มข้อมูลสำเร็จ
// - 1: หากไม่สามารถเพิ่มข้อมูลได้ (เพราะอาร์เรย์เต็ม)
int append(int arr[], int length, int *n, int data) {
    // ตรวจสอบว่าจำนวนสมาชิกในอาร์เรย์ (*n) ถึงความจุสูงสุดหรือยัง
    if (*n >= length) {
        // หากเต็มแล้ว ให้แสดงข้อความแสดงข้อผิดพลาด
        printf("Error: Array is full!\n");
        return 1; // คืนค่า 1 เพื่อบอกว่าการเพิ่มข้อมูลล้มเหลว
    }

    // // เพิ่มข้อมูลใหม่ลงในอาร์เรย์ที่ตำแหน่ง *n
    arr[*n] = data;

    // // เพิ่มจำนวนสมาชิกในอาร์เรย์ (เพิ่มค่า *n ทีละ 1)
    *n = *n + 1;
    // arr[(*n)++] = data;

    return 0; // คืนค่า 0 เพื่อบอกว่าการเพิ่มข้อมูลสำเร็จ
}

// ฟังก์ชัน: delete
// หน้าที่: ลบสมาชิกในอาร์เรย์ที่ตำแหน่งที่กำหนด
// รับพารามิเตอร์ 4 ตัว:
// - int arr[]: อาร์เรย์เป้าหมายที่ต้องการลบสมาชิก
// - int *n: ตัวชี้ไปยังตัวแปรที่เก็บจำนวนสมาชิกปัจจุบันในอาร์เรย์
// - int pos: ตำแหน่งของสมาชิกที่ต้องการลบ (เริ่มนับจาก 1)
// คืนค่า:
// - 0: หากลบสำเร็จ
// - 1: หากตำแหน่งที่ระบุอยู่นอกขอบเขตของอาร์เรย์
int delete(int arr[], int *n, int pos) {
    // ตรวจสอบว่าสมาชิกของ array เป็น 0 หรือไม่
    if(*n == 0){
        // แสดงข้อความอาเรย์ว่างเปล่า
        printf("Error: Array is null!\n");
        return 1; // คืนค่า 1 เพื่อบอกว่าการลบล้มเหลว
    }
    // ตรวจสอบว่าตำแหน่งที่กำหนดอยู่นอกขอบเขตหรือไม่
    if (pos > *n || pos < 1) {
        // แสดงข้อความแสดงข้อผิดพลาดหากตำแหน่งไม่ถูกต้อง
        printf("Error: Invalid position!\n");
        return 1; // คืนค่า 1 เพื่อบอกว่าการลบล้มเหลว
    }

    // ปรับตำแหน่งจากที่เริ่มนับจาก 1 ให้กลายเป็น index ที่เริ่มนับจาก 0
    pos--;

    // เลื่อนสมาชิกในอาร์เรย์ทั้งหมดหลังตำแหน่งที่ถูกลบเข้ามาแทนที่
    for (int i = pos; i < *n - 1; i++) {
        arr[i] = arr[i + 1];
    }

    // ใส่ค่าเริ่มต้น (0) ให้สมาชิกตัวสุดท้ายเพื่อความเรียบร้อย
    arr[*n - 1] = 0;

    // ลดจำนวนสมาชิกปัจจุบันในอาร์เรย์ลง 1
    *n = *n - 1;

    return 0; // คืนค่า 0 เพื่อบอกว่าการลบสำเร็จ
}

// ฟังก์ชัน: insert
// หน้าที่: แทรกข้อมูลใหม่ลงในอาร์เรย์ที่ตำแหน่งที่กำหนด
// รับพารามิเตอร์ 5 ตัว:
// - int arr[]: อาร์เรย์เป้าหมายที่ต้องการแทรกข้อมูล
// - int length: ความจุสูงสุดของอาร์เรย์
// - int *n: ตัวชี้ไปยังตัวแปรที่เก็บจำนวนสมาชิกปัจจุบันในอาร์เรย์
// - int pos: ตำแหน่งที่ต้องการแทรก (เริ่มนับจาก 1)
// - int data: ข้อมูลที่ต้องการแทรก
// คืนค่า:
// - 0: หากแทรกสำเร็จ
// - 1: หากเกิดข้อผิดพลาด เช่น อาร์เรย์เต็มหรือตำแหน่งไม่ถูกต้อง
int insert(int arr[], int length, int *n, int pos, int data) {
    // ตรวจสอบว่าอาร์เรย์เต็มหรือไม่
    if (*n == length) {
        printf("Error: Array is full!\n");
        return 1; // คืนค่า 1 เพื่อบอกว่าการแทรกล้มเหลว
    }

    // ตรวจสอบว่าตำแหน่งที่กำหนดอยู่นอกขอบเขตหรือไม่
    if (pos > *n + 1 || pos < 1) {
        printf("Error: Invalid position!\n");
        return 1; // คืนค่า 1 เพื่อบอกว่าการแทรกล้มเหลว
    }

    // ปรับตำแหน่งจากที่เริ่มนับจาก 1 ให้กลายเป็น index ที่เริ่มนับจาก 0
    pos--;

    // เลื่อนสมาชิกทั้งหมดที่อยู่หลังตำแหน่งที่ต้องการแทรกออกไปทีละ 1 ตำแหน่ง
    for (int i = *n; i > pos; i--) {
        arr[i] = arr[i - 1];
    }

    // แทรกข้อมูลใหม่ที่ตำแหน่งที่กำหนด
    arr[pos] = data;

    // เพิ่มจำนวนสมาชิกในอาร์เรย์
    *n = *n + 1;

    return 0; // คืนค่า 0 เพื่อบอกว่าการแทรกสำเร็จ
}

// ฟังก์ชัน: update
// หน้าที่: อัปเดตค่าของสมาชิกในอาร์เรย์ที่ตำแหน่งที่กำหนด
// รับพารามิเตอร์ 4 ตัว:
// - int arr[]: อาร์เรย์ที่ต้องการอัปเดต
// - int *n: ตัวชี้ไปยังตัวแปรที่เก็บจำนวนสมาชิกปัจจุบันในอาร์เรย์
// - int pos: ตำแหน่งของสมาชิกที่ต้องการอัปเดต (เริ่มนับจาก 1)
// - int data: ข้อมูลใหม่ที่ต้องการแทนที่
// คืนค่า:
// - 0: หากอัปเดตสำเร็จ
// - 1: หากเกิดข้อผิดพลาด เช่น ตำแหน่งไม่ถูกต้อง
int update(int arr[], int *n, int pos, int data) {
    // ตรวจสอบว่าตำแหน่งที่กำหนดอยู่นอกขอบเขตหรือไม่
    if (pos > *n || pos < 1) {
        printf("Error: Invalid position!\n");
        return 1; // คืนค่า 1 เพื่อบอกว่าการอัปเดตล้มเหลว
    }

    // ปรับตำแหน่งจากที่เริ่มนับจาก 1 ให้กลายเป็น index ที่เริ่มนับจาก 0
    pos--;

    // อัปเดตค่าของสมาชิกในตำแหน่งที่กำหนด
    arr[pos] = data;

    return 0; // คืนค่า 0 เพื่อบอกว่าการอัปเดตสำเร็จ
}

int search(int arr[], int* n, int data){
    for(int i=0;i<*n;i++){
        if(arr[i] == data){
            return 1;
        }
    }
    return 0;
}

int findMax(int arr[],int* n){
    int max = INT_MIN;

    for(int i=0;i<*n;i++){
        if(arr[i] > max){
            max = arr[i];
        }
    }

    return max;
}

int main() {
    // ประกาศอาร์เรย์ arr ที่มีขนาด 10 และกำหนดค่าเริ่มต้นเป็น 0 ทั้งหมด
    int arr[10] = {};

    // คำนวณขนาดของอาร์เรย์ arr (จำนวนสมาชิกสูงสุดที่อาร์เรย์เก็บได้)
    // sizeof(arr) = ขนาดหน่วยความจำทั้งหมดของ arr
    // sizeof(arr[0]) = ขนาดหน่วยความจำของสมาชิกตัวแรก
    int length = sizeof(arr) / sizeof(arr[0]);

    // ตัวแปร n ใช้เก็บจำนวนสมาชิกปัจจุบันในอาร์เรย์ เริ่มต้นเป็น 0
    int n = 0;

    // เรียกใช้ฟังก์ชัน append เพื่อเพิ่มข้อมูลใหม่ลงในอาร์เรย์
    append(arr, length, &n, 10); // เพิ่มค่า 10
    append(arr, length, &n, 20); // เพิ่มค่า 20
    append(arr, length, &n, 30); // เพิ่มค่า 30
    append(arr, length, &n, 40); // เพิ่มค่า 40
    append(arr, length, &n, 50); // เพิ่มค่า 50

    // เรียกใช้ฟังก์ชัน showArray เพื่อแสดงข้อมูลในอาร์เรย์
    showArray(arr, n);

    // ลบสมาชิกที่ตำแหน่ง 3 (ค่า 30)
    delete(arr, &n, 3);
    // เรียกใช้ฟังก์ชัน showArray เพื่อแสดงข้อมูลในอาร์เรย์
    showArray(arr, n);

    // แทรกข้อมูลใหม่ (ค่า 25) ที่ตำแหน่ง 3
    insert(arr, length, &n, 3, 25);
    // เรียกใช้ฟังก์ชัน showArray เพื่อแสดงข้อมูลในอาร์เรย์
    showArray(arr, n);

    // อัปเดตข้อมูลในตำแหน่งที่ 1 (ค่า 10) ให้เป็น 100
    update(arr, &n, 1, 900);
    // เรียกใช้ฟังก์ชัน showArray เพื่อแสดงข้อมูลในอาร์เรย์
    showArray(arr, n);

    printf("%d\n", search(arr, &n, 50));
    printf("%d\n", findMax(arr, &n));

    return 0; // คืนค่า 0 เพื่อแสดงว่าโปรแกรมทำงานเสร็จสมบูรณ์
}